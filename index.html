<!DOCTYPE html>
<html lang="km">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>á”ááŸ’áá–á¶á€áŸ’á™ášáŸ†á›á¹á€á˜áŸášáŸ€á“ (Flashcards)</title>
    <style>
        /* ==================== Variables ==================== */
        :root {
            --primary-color: #0052cc;
            --secondary-color: #007bff;
            --success-color: #28a745;
            --success-light: #20c997;
            --warning-color: #ff9800;
            --dark-color: #607d8b;
            --bg-color: #f0f4f8;
            --text-dark: #333;
            --text-light: #666;
            --shadow: 0 10px 25px rgba(0,0,0,0.2);
            --shadow-sm: 0 4px 6px rgba(0,0,0,0.1);
            --card-width: 700px;
            --card-height: 400px;
            --border-radius: 20px;
            --transition: 0.3s ease;
        }

        /* ==================== Reset & Body ==================== */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Microsoft YaHei', 'Khmer OS Battambang', sans-serif;
            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
        }

        /* ==================== Header ==================== */
        .header { text-align: center; margin-bottom: 25px; animation: fadeInDown 0.6s ease; }
        h1 { color: white; font-size: 28px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); margin-bottom: 5px; }
        .subtitle { color: rgba(255,255,255,0.9); font-size: 16px; }

        /* ==================== Progress & Counter ==================== */
        .progress-container {
            width: var(--card-width);
            height: 10px;
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 12px;
            animation: fadeInUp 0.6s ease;
        }
        .progress-bar { height: 100%; background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%); transition: width 0.3s ease; border-radius: 10px; }

        .counter { color: white; font-size: 20px; font-weight: bold; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .counter-badge { background: rgba(255,255,255,0.2); padding: 5px 15px; border-radius: 20px; }

        /* ==================== Card Design ==================== */
        .card-container {
            perspective: 1500px;
            width: var(--card-width);
            height: var(--card-height);
            cursor: pointer;
            margin-bottom: 25px;
            animation: fadeInUp 0.6s ease;
        }

        .card {
            width: 100%; height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .card.flipped { transform: rotateY(180deg); }

        .card-face {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            border-radius: var(--border-radius); padding: 40px; text-align: center;
        }

        .card-front { background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white; transform: rotateY(0deg); }
        .card-front .main-text { font-size: 80px; font-weight: bold; margin-bottom: 10px; }
        .card-front .pinyin-text { font-size: 32px; opacity: 0.9; font-weight: normal; margin-bottom: 20px; color: #ffeb3b; }
        .card-front .hint { font-size: 16px; opacity: 0.7; margin-top: auto; font-style: italic; }

        .card-back { background: linear-gradient(135deg, var(--success-color), var(--success-light)); color: white; transform: rotateY(180deg); }
        .card-back .main-text { font-size: 55px; font-weight: bold; font-family: 'Khmer OS Battambang'; line-height: 1.4; }

        /* ==================== Controls ==================== */
        .controls { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; margin-bottom: 20px; }
        button { padding: 12px 30px; font-size: 18px; border: none; border-radius: 50px; cursor: pointer; font-family: 'Khmer OS Battambang'; font-weight: bold; transition: all 0.2s ease; box-shadow: var(--shadow-sm); }
        button:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0,0,0,0.3); }
        .btn-primary { background: linear-gradient(135deg, var(--warning-color), #ff6f00); color: white; }
        .btn-secondary { background: linear-gradient(135deg, var(--dark-color), #455a64); color: white; }
        .btn-success { background: linear-gradient(135deg, #4caf50, #2e7d32); color: white; font-size: 14px; padding: 10px 20px; }

        /* ==================== Footer ==================== */
        .footer { position: fixed; bottom: 10px; font-size: 12px; color: rgba(255,255,255,0.7); text-align: center; }

        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            :root { --card-width: 90vw; --card-height: 320px; }
            .card-front .main-text { font-size: 60px; }
            .card-front .pinyin-text { font-size: 24px; }
            .card-back .main-text { font-size: 38px; }
            .controls { flex-direction: column; width: 90vw; }
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>ğŸ“š á”ááŸ’áá–á¶á€áŸ’á™ášáŸ†á›á¹á€á˜áŸášáŸ€á“</h1>
        <p class="subtitle">á”á…áŸ’á…áŸá€á‘áŸáŸá•á›á·áá€á„áŸ‹ (Factory & QC Vocabulary)</p>
    </div>

    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <div class="counter">
        <span>á–á¶á€áŸ’á™á‘á¸</span>
        <span class="counter-badge"><span id="currentIdx">1</span> / <span id="totalIdx">0</span></span>
    </div>

    <div class="card-container" onclick="flipCard()">
        <div class="card" id="flashcard">
            <div class="card-face card-front">
                <div class="main-text" id="text-cn">å·¥å‚</div>
                <div class="pinyin-text" id="text-py">(GÅngchÇng)</div>
                <div class="hint">ğŸ‘† á…á»á…áŠá¾á˜áŸ’á”á¸á˜á¾á›á€á¶ášá”á€á”áŸ’ášáŸ‚</div>
            </div>
            <div class="card-face card-back">
                <div class="main-text" id="text-km">ášáŸ„á„á…á€áŸ’áš</div>
            </div>
        </div>
    </div>

    <div class="controls">
        <button class="btn-secondary" onclick="prevCard()">â¬…ï¸ áá™á€áŸ’ášáŸ„á™</button>
        <button class="btn-primary" onclick="flipCard()">ğŸ”„ ááŸ’ášá¡á”áŸ‹á€á¶á</button>
        <button class="btn-primary" onclick="nextCard()">á”á“áŸ’á‘á¶á”áŸ‹ â¡ï¸</button>
        <button class="btn-success" onclick="shuffleCards()">ğŸ”€ áŸá¶á…á¡á¾á„áœá·á‰</button>
    </div>

    <div class="footer">ğŸ’¡ Space/Enter=ááŸ’ášá¡á”áŸ‹, â¬…ï¸â¡ï¸=ášá»á€ášá€</div>

    <script>
        const vocabList = [
            // --- áŸ¡áŸ¢ á–á¶á€áŸ’á™ááŸ’á˜á¸ (á”á“áŸ’ááŸ‚á˜ááŸ’á˜á¸) ---
            { cn: "èµ·æ³¡", py: "(QÇ pÃ o)", km: "á–á„ / á…á¼á›ááŸ’á™á›áŸ‹" },
            { cn: "æ ‡çº¸ä¸è‰¯", py: "(BiÄo zhÇ bÃ¹ liÃ¡ng)", km: "ááŸ‚á˜á˜á·á“á›áŸ’á¢" },
            { cn: "ä¿®è¡¥ç—•", py: "(XiÅ« bÇ” hÃ©n)", km: "áŸáŸ’á“á¶á˜á‡á½áŸá‡á»á› / áŸáŸ’á“á¶á˜á€áŸ‚" },
            { cn: "æ‚è´¨", py: "(ZÃ¡ zhÃ¬)", km: "á’á¼á›á¸ / á€áŸ†á‘áŸá…á€áŸ†á‘á¸" },
            { cn: "è„æ±¡", py: "(ZÄng wÅ«)", km: "á”áŸ’ášá¡á¶á€áŸ‹" },
            { cn: "æ ‡çº¸ä½ç½®ä¸å¯¹", py: "(BiÄo zhÇ wÃ¨i zhÃ¬ bÃ¹ duÃ¬)", km: "á”á·á‘ááŸ‚á˜áá»áŸá‘á¸áá¶áŸ†á„" },
            { cn: "æ ‡çº¸ä¸å¯¹ç§°", py: "(BiÄo zhÇ bÃ¹ duÃ¬ chÃ¨n)", km: "á”á·á‘ááŸ‚á˜á˜á·á“áŸáŸ’á˜á¾á‚áŸ’á“á¶" },
            { cn: "é›¾é¢", py: "(WÃ¹ miÃ n)", km: "áŸáŸ’ášá¢á¶á”áŸ‹" },
            { cn: "æ©˜çš®", py: "(JÃº pÃ­)", km: "áŸáŸ†á”á€á€áŸ’ášá¼á…" },
            { cn: "é’ˆå­”", py: "(ZhÄ“n kÇ’ng)", km: "ášá“áŸ’á’á˜áŸ’á‡á»á›" },
            { cn: "æ¶ˆå…‰ä¸è‰¯", py: "(XiÄo guÄng bÃ¹ liÃ¡ng)", km: "á‘á¹á€ááŸ’á“á¶áŸ†áŸáŸ’ášá¢á¶á”áŸ‹á˜á·á“á›áŸ’á¢" },
            { cn: "é˜²æ¼†ä¸è‰¯", py: "(FÃ¡ng qÄ« bÃ¹ liÃ¡ng)", km: "á€á¶ášá–á¶ášá‘á¹á€ááŸ’á“á¶áŸ†á˜á·á“á”á¶á“á›áŸ’á¢" },

            // --- áŸ£áŸ§ á–á¶á€áŸ’á™á…á¶áŸáŸ‹ ---
            { cn: "å·¥å‚", py: "(GÅngchÇng)", km: "ášáŸ„á„á…á€áŸ’áš" },
            { cn: "è½¦é—´", py: "(ChÄ“jiÄn)", km: "ášáŸ„á„á‡á¶á„ / á¢á¶á‚á¶áš" },
            { cn: "åŠå…¬å®¤", py: "(BÃ ngÅngshÃ¬)", km: "á€á¶ášá·á™á¶á›áŸá™" },
            { cn: "ç­é•¿", py: "(BÄnzhÇng)", km: "á”áŸ’ášá’á¶á“á€áŸ’ášá»á˜" },
            { cn: "ç¿»è¯‘", py: "(FÄnyÃ¬)", km: "á¢áŸ’á“á€á”á€á”áŸ’ášáŸ‚" },
            { cn: "æ³¨æ„å®‰å…¨", py: "(ZhÃ¹yÃ¬ ÄnquÃ¡n)", km: "á”áŸ’ášá™áŸááŸ’á“áŸá»áœááŸ’áá·á—á¶á–" },
            { cn: "ä¸Šç­", py: "(ShÃ ngbÄn)", km: "á…á¼á›á’áŸ’áœá¾á€á¶áš" },
            { cn: "ä¸‹ç­", py: "(XiÃ bÄn)", km: "á…áŸá‰á–á¸á’áŸ’áœá¾á€á¶áš" },
            { cn: "è¯·å‡", py: "(QÇngjiÃ )", km: "áŸá»áŸ†á…áŸ’á”á¶á”áŸ‹" },
            { cn: "è½¦æ¶", py: "(ChÄ“jiÃ )", km: "áá½á€á„áŸ‹" },
            { cn: "å‰å‰", py: "(QiÃ¡nchÄ)", km: "á†áŸ’á–áŸ„áŸ‡á˜á»á (Fork)" },
            { cn: "è½¦æŠŠ", py: "(ChÄ“bÇ)", km: "áŠáŸƒá€á„áŸ‹" },
            { cn: "è½¦åœˆ", py: "(ChÄ“quÄn)", km: "ááŸ’á“á„á€á„áŸ‹" },
            { cn: "å¤–èƒ", py: "(WÃ itÄi)", km: "áŸáŸ†á”á€á€á„áŸ‹" },
            { cn: "è„šè¸", py: "(JiÇotÃ )", km: "áˆáŸ’á“á¶á“áŸ‹" },
            { cn: "é“¾æ¡", py: "(LiÃ ntiÃ¡o)", km: "á…áŸ’ášáœá¶á€áŸ‹" },
            { cn: "åº§å«", py: "(ZuÃ²diÃ n)", km: "á€áŸ‚á”" },
            { cn: "åˆ¹è½¦", py: "(ShÄchÄ“)", km: "á áŸ’áœáŸ’ášá¶áŸ†á„" },
            { cn: "æµ‹é‡å€¼", py: "(CÃ¨liÃ¡ng zhÃ­)", km: "áá˜áŸ’á›áŸƒáœá¶áŸáŸ‹á‡á¶á€áŸ‹áŸáŸ’ááŸ‚á„" },
            { cn: "æ ‡å‡†å€¼", py: "(BiÄozhÇ”n zhÃ­)", km: "áá˜áŸ’á›áŸƒáŸáŸ’áá„áŸ‹áŠá¶" },
            { cn: "ä¸Šé™", py: "(ShÃ ngxiÃ n)", km: "áŠáŸ‚á“á€áŸ†áááŸ‹ á›á¾" },
            { cn: "ä¸‹é™", py: "(XiÃ xiÃ n)", km: "áŠáŸ‚á“á€áŸ†áááŸ‹ á€áŸ’ášáŸ„á˜" },
            { cn: "è¶‹åŠ¿å›¾", py: "(QÅ«shÃ¬ tÃº)", km: "á€áŸ’ášá¶á”á“á·á“áŸ’á“á¶á€á¶áš" },
            { cn: "åˆæ ¼", py: "(HÃ©gÃ©)", km: "á‡á¶á”áŸ‹ (OK)" },
            { cn: "ä¸åˆæ ¼", py: "(BÃ¹ hÃ©gÃ©)", km: "á’áŸ’á›á¶á€áŸ‹ (NG)" },
            { cn: "å¼€è£‚", py: "(KÄiliÃ¨)", km: "á”áŸ’ášáŸáŸ‡ (Crack)" },
            { cn: "ç„Šç ´", py: "(HÃ npÃ²)", km: "á•áŸ’áŸá¶á’áŸ’á›á»áŸ‡" },
            { cn: "æ¼ç„Š", py: "(LÃ²uhÃ n)", km: "á—áŸ’á›áŸá…á•áŸ’áŸá¶áš" },
            { cn: "é’ˆçœ¼", py: "(ZhÄ“nyÇn)", km: "á—áŸ’á“áŸ‚á€á˜áŸ’á‡á»á› (Pin hole)" },
            { cn: "å‡¹é™·", py: "(Ä€oxiÃ n)", km: "á€áŸ†á–á·á / á•á" },
            { cn: "ç„Šé“åå¿ƒ", py: "(HÃ ndÃ o piÄnxÄ«n)", km: "á•áŸ’áŸá¶ášáœáŸ€á…" },
            { cn: "ç”µå‡»ä¼¤", py: "(DiÃ njÃ­ shÄng)", km: "á†áŸáŸ‡á˜áŸ‰á¶áŸ (Arc strike)" },
            { cn: "å †ç„Š", py: "(DuÄ«hÃ n)", km: "á•áŸ’áŸá¶ášá‘á¼á› (Overlap)" },
            { cn: "å’¬è¾¹", py: "(YÇobiÄn)", km: "áŸáŸŠá¸áŸá¶á…áŸ‹á”áŸ†á–á„áŸ‹ (Undercut)" },
            { cn: "é—´éš™", py: "(JiÃ nxÃ¬)", km: "á…á“áŸ’á›áŸ„áŸ‡ / á á¾á” (Gap)" },
            { cn: "ç¢°åˆ®ä¼¤", py: "(PÃ¨ngguÄ shÄng)", km: "á”áŸ‰áŸ‡á‘á„áŸ’á‚á·á… / á€áŸ„áŸ" },
            { cn: "ç„Šæ¸£", py: "(HÃ nzhÄ)", km: "á€áŸ†á‘áŸá…á•áŸ’áŸá¶áš" }
        ];

        let currentIndex = 0;
        const card = document.getElementById('flashcard');
        const cnText = document.getElementById('text-cn');
        const pyText = document.getElementById('text-py');
        const kmText = document.getElementById('text-km');
        const currentIdxSpan = document.getElementById('currentIdx');
        const totalIdxSpan = document.getElementById('totalIdx');
        const progressBar = document.getElementById('progressBar');

        function init() {
            totalIdxSpan.innerText = vocabList.length;
            setWord();
        }

        function setWord() {
            if (card.classList.contains('flipped')) card.classList.remove('flipped');
            cnText.innerText = vocabList[currentIndex].cn;
            pyText.innerText = vocabList[currentIndex].py;
            kmText.innerText = vocabList[currentIndex].km;
            currentIdxSpan.innerText = currentIndex + 1;

            // Resize text based on length
            if (kmText.innerText.length > 20) kmText.style.fontSize = "32px";
            else if (kmText.innerText.length > 15) kmText.style.fontSize = "40px";
            else kmText.style.fontSize = "55px";

            const progress = ((currentIndex + 1) / vocabList.length) * 100;
            progressBar.style.width = progress + '%';
        }

        function flipCard() { card.classList.toggle('flipped'); }
        function nextCard() { if (currentIndex < vocabList.length - 1) { currentIndex++; setWord(); } }
        function prevCard() { if (currentIndex > 0) { currentIndex--; setWord(); } }

        function shuffleCards() {
            for (let i = vocabList.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [vocabList[i], vocabList[j]] = [vocabList[j], vocabList[i]];
            }
            currentIndex = 0;
            setWord();
        }

        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' || e.code === 'Enter') flipCard();
            if (e.code === 'ArrowRight') nextCard();
            if (e.code === 'ArrowLeft') prevCard();
        });

        init();
    </script>
</body>

</html>
